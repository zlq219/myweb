è·¯ç”±å’Œè“å›¾è¯¦è§£ï¼ˆç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼‰
ä¸€ã€ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ
è·¯ç”±å°±æ˜¯ URL åˆ°å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š

text
å½“ç”¨æˆ·è®¿é—®è¿™ä¸ªç½‘å€ â†’ æ‰§è¡Œè¿™ä¸ªå‡½æ•° â†’ æ˜¾ç¤ºè¿™ä¸ªé¡µé¢
äºŒã€æœ€ç®€å•çš„è·¯ç”±ï¼ˆæ²¡æœ‰è“å›¾æ—¶ï¼‰
python
from flask import Flask
app = Flask(__name__)

# è·¯ç”±å®šä¹‰
@app.route('/')
def home():
    return 'è¿™æ˜¯é¦–é¡µ'

@app.route('/about')
def about():
    return 'å…³äºæˆ‘ä»¬'

@app.route('/user/profile')
def profile():
    return 'ä¸ªäººä¸­å¿ƒ'
è¿™æ ·æ‰€æœ‰è·¯ç”±éƒ½å †åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œé¡¹ç›®å¤§äº†å°±å¾ˆéš¾ç®¡ç†ã€‚

ä¸‰ã€è“å›¾æ˜¯ä»€ä¹ˆï¼Ÿ
è“å›¾å°±æ˜¯è·¯ç”±çš„åˆ†ç»„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š

ğŸ“ æ–‡ä»¶å¤¹ - æŠŠç›¸å…³çš„è·¯ç”±æ”¾åœ¨ä¸€èµ·

ğŸ·ï¸ æ ‡ç­¾ - ç»™ä¸€ç»„è·¯ç”±èµ·ä¸ªåå­—

ğŸ”§ æ¨¡å—åŒ– - æ¯ä¸ªåŠŸèƒ½æ¨¡å—æœ‰è‡ªå·±çš„è·¯ç”±æ–‡ä»¶

å››ã€ç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­ç†è§£
æƒ³è±¡ä½ å¼€äº†ä¸€å®¶å¤§å‹å•†åœºï¼š

text
å•†åœº (app.py)
â”œâ”€â”€ é¤é¥®åŒº (food_bp)           # é¤é¥®è“å›¾
â”‚   â”œâ”€â”€ ä¸­é¤å… (/food/chinese)
â”‚   â”œâ”€â”€ è¥¿é¤å… (/food/western)
â”‚   â””â”€â”€ å¿«é¤åº— (/food/fast)
â”œâ”€â”€ æœè£…åŒº (clothes_bp)         # æœè£…è“å›¾
â”‚   â”œâ”€â”€ ç”·è£… (/clothes/men)
â”‚   â”œâ”€â”€ å¥³è£… (/clothes/women)
â”‚   â””â”€â”€ ç«¥è£… (/clothes/kids)
â””â”€â”€ å¨±ä¹åŒº (entertain_bp)       # å¨±ä¹è“å›¾
    â”œâ”€â”€ ç”µå½±é™¢ (/entertain/movie)
    â””â”€â”€ KTV (/entertain/ktv)
äº”ã€ä½ çš„é¡¹ç›®ä¸­çš„è“å›¾
1. è®¤è¯è“å›¾ (auth_bp) - å¤„ç†ç™»å½•æ³¨å†Œ
æ–‡ä»¶ï¼š routes/auth.py

python
from flask import Blueprint

# åˆ›å»ºè®¤è¯è“å›¾ï¼Œæ‰€æœ‰è®¤è¯ç›¸å…³çš„URLéƒ½ä»¥ /auth å¼€å¤´
auth_bp = Blueprint('auth', __name__)

@auth_bp.route('/login')      # å®é™…URL: /auth/login
def login():
    return 'ç™»å½•é¡µé¢'

@auth_bp.route('/register')   # å®é™…URL: /auth/register
def register():
    return 'æ³¨å†Œé¡µé¢'

@auth_bp.route('/logout')     # å®é™…URL: /auth/logout
def logout():
    return 'é€€å‡ºç™»å½•'
2. ç”¨æˆ·è“å›¾ (user_bp) - å¤„ç†ä¸ªäººä¸­å¿ƒ
æ–‡ä»¶ï¼š routes/user.py

python
from flask import Blueprint

# åˆ›å»ºç”¨æˆ·è“å›¾ï¼Œæ‰€æœ‰ç”¨æˆ·ç›¸å…³çš„URL
user_bp = Blueprint('user', __name__)

@user_bp.route('/profile')     # å®é™…URL: /profile
def profile():
    return 'ä¸ªäººä¸­å¿ƒ'

@user_bp.route('/settings')    # å®é™…URL: /settings
def settings():
    return 'è´¦æˆ·è®¾ç½®'
3. ç®¡ç†å‘˜è“å›¾ (admin_bp) - å¤„ç†åç®¡ç†å°
æ–‡ä»¶ï¼š routes/admin.py

python
from flask import Blueprint

# åˆ›å»ºç®¡ç†å‘˜è“å›¾ï¼Œæ‰€æœ‰ç®¡ç†å‘˜ç›¸å…³çš„URLéƒ½ä»¥ /admin å¼€å¤´
admin_bp = Blueprint('admin', __name__)

@admin_bp.route('/dashboard')   # å®é™…URL: /admin/dashboard
def dashboard():
    return 'ç®¡ç†å‘˜æ§åˆ¶å°'

@admin_bp.route('/users')       # å®é™…URL: /admin/users
def user_management():
    return 'ç”¨æˆ·ç®¡ç†'
å…­ã€è“å›¾æ³¨å†Œï¼ˆåœ¨ app.py ä¸­ï¼‰
python
from flask import Flask
from routes.auth import auth_bp
from routes.user import user_bp
from routes.admin import admin_bp

app = Flask(__name__)

# æ³¨å†Œè“å›¾ï¼ŒæŒ‡å®šURLå‰ç¼€
app.register_blueprint(auth_bp, url_prefix='/auth')   # æ‰€æœ‰/authå¼€å¤´çš„URL
app.register_blueprint(user_bp)                         # æ²¡æœ‰å‰ç¼€
app.register_blueprint(admin_bp, url_prefix='/admin')  # æ‰€æœ‰/adminå¼€å¤´çš„URL
ä¸ƒã€URL çš„ç»„æˆè§„åˆ™
text
å®Œæ•´URL = è“å›¾å‰ç¼€ + è·¯ç”±ä¸­å®šä¹‰çš„è·¯å¾„
è“å›¾	å‰ç¼€	è·¯ç”±å®šä¹‰	æœ€ç»ˆURL
auth_bp	/auth	/login	/auth/login
auth_bp	/auth	/register	/auth/register
user_bp	æ— 	/profile	/profile
admin_bp	/admin	/dashboard	/admin/dashboard
å…«ã€åœ¨æ¨¡æ¿ä¸­ç”Ÿæˆ URL
ä½¿ç”¨ url_for('è“å›¾å.å‡½æ•°å')

html
<!-- æ­£ç¡®å†™æ³• -->
<a href="{{ url_for('auth.login') }}">ç™»å½•</a>
<a href="{{ url_for('user.profile') }}">ä¸ªäººä¸­å¿ƒ</a>
<a href="{{ url_for('admin.dashboard') }}">ç®¡ç†åå°</a>

<!-- ç›¸å½“äº -->
<a href="/auth/login">ç™»å½•</a>
<a href="/profile">ä¸ªäººä¸­å¿ƒ</a>
<a href="/admin/dashboard">ç®¡ç†åå°</a>
ä¹ã€ä½ çš„èœå•é…ç½®ä¸­çš„ endpoint
åœ¨ config/admin_menu.py ä¸­ï¼š

python
{
    'title': 'æ§åˆ¶å°',
    'endpoint': 'admin.dashboard',  # è“å›¾å.å‡½æ•°å
    'icon': 'fas fa-tachometer-alt',
},
{
    'title': 'ä¸ªäººä¸­å¿ƒ',
    'endpoint': 'user.profile',      # è“å›¾å.å‡½æ•°å
    'icon': 'fas fa-user',
}
åã€ä¸ºä»€ä¹ˆç”¨è“å›¾ï¼Ÿ
æ¨¡å—åŒ– - æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹æˆæ–‡ä»¶

text
routes/
â”œâ”€â”€ auth.py        # è®¤è¯ç›¸å…³
â”œâ”€â”€ user.py        # ç”¨æˆ·ç›¸å…³
â”œâ”€â”€ admin.py       # ç®¡ç†å‘˜ç›¸å…³
â””â”€â”€ announcements.py # å…¬å‘Šç›¸å…³
é¿å…å‘½åå†²çª - ä¸åŒè“å›¾ä¸­å¯ä»¥æœ‰ç›¸åŒçš„å‡½æ•°å

python
# auth.py ä¸­
@auth_bp.route('/login')
def login(): ...

# admin.py ä¸­ä¹Ÿå¯ä»¥æœ‰
@admin_bp.route('/login')
def login(): ...  # æ²¡é—®é¢˜ï¼Œå› ä¸ºå‰ç¼€ä¸åŒ
URL ç»Ÿä¸€ç®¡ç† - æ‰€æœ‰ /admin å¼€å¤´çš„URLéƒ½æ”¾åœ¨ä¸€èµ·

å›¢é˜Ÿåä½œ - å¤šäººå¯ä»¥åŒæ—¶å¼€å‘ä¸åŒæ¨¡å—

åä¸€ã€æ·»åŠ æ–°åŠŸèƒ½çš„å®Œæ•´æµç¨‹
å‡è®¾è¦æ·»åŠ ä¸€ä¸ª"å·¥å…·ç®±"åŠŸèƒ½ï¼š

æ­¥éª¤1ï¼šåˆ›å»ºè“å›¾æ–‡ä»¶ routes/tools.py
python
from flask import Blueprint, render_template
from flask_login import login_required

# åˆ›å»ºå·¥å…·ç®±è“å›¾
tools_bp = Blueprint('tools', __name__)

@tools_bp.route('/tools')
@login_required
def index():
    return render_template('tools.html')

@tools_bp.route('/tools/calculator')
@login_required
def calculator():
    return render_template('calculator.html')
æ­¥éª¤2ï¼šåœ¨ app.py ä¸­æ³¨å†Œ
python
from routes.tools import tools_bp
app.register_blueprint(tools_bp)  # æ²¡æœ‰å‰ç¼€ï¼ŒURLå°±æ˜¯ /tools
æ­¥éª¤3ï¼šåœ¨èœå•é…ç½®ä¸­æ·»åŠ 
python
{
    'title': 'å·¥å…·ç®±',
    'endpoint': 'tools.index',  # è“å›¾å.å‡½æ•°å
    'icon': 'fas fa-tools',
    'permission': 'user',
    'order': 5
}
åäºŒã€å¿«é€Ÿè®°å¿†
æ¦‚å¿µ	ç±»æ¯”	è¯´æ˜
è·¯ç”±	é—¨ç‰Œå·	å‘Šè¯‰Flaskå“ªä¸ªURLå¯¹åº”å“ªä¸ªå‡½æ•°
è“å›¾	åŒºåŸŸåˆ’åˆ†	æŠŠç›¸å…³çš„é—¨ç‰Œå·æ”¾åœ¨ä¸€èµ·ç®¡ç†
endpoint	é—¨ç‰Œåç§°	è“å›¾å.å‡½æ•°å çš„å”¯ä¸€æ ‡è¯†
url_prefix	åŒºåŸŸå‰ç¼€	è¿™ä¸ªåŒºåŸŸæ‰€æœ‰é—¨ç‰Œçš„å…±åŒå¼€å¤´
åä¸‰ã€ä½ çš„é¡¹ç›®ä¸­çš„è“å›¾åˆ—è¡¨
python
# å·²å­˜åœ¨çš„è“å›¾
auth_bp      # è®¤è¯ç›¸å…³ï¼š/auth/login, /auth/register
user_bp      # ç”¨æˆ·ç›¸å…³ï¼š/profile, /settings
admin_bp     # ç®¡ç†ç›¸å…³ï¼š/admin/dashboard, /admin/users
main_bp      # ä¸»é¡µç›¸å…³ï¼š/, /home, /about
announcements_bp # å…¬å‘Šç›¸å…³ï¼š/announcements
è¿™æ ·ç†è§£äº†å—ï¼Ÿè“å›¾å°±æ˜¯æŠŠç›¸å…³çš„è·¯ç”±æ‰“åŒ…æˆä¸€ä¸ªæ¨¡å—ï¼Œè®©ä»£ç æ›´æœ‰ç»„ç»‡æ€§ã€‚

