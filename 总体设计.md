📁 MyWeb 项目文档
一、项目概述
项目名称：MyWeb（Flask + MongoDB 基础平台）

核心功能：用户注册、登录、个人中心、用户管理（管理员）

技术栈：Flask, MongoDB, Flask-Login, Bootstrap 5

开发状态：基础功能已完成并测试通过（注册、登录、个人资料、用户管理后台）

项目根目录：E:\zlq\myweb\

二、技术架构
text
Flask (Web框架)
    ├── Flask-PyMongo (MongoDB连接)
    ├── Flask-Login (用户会话管理)
    └── Bootstrap 5 (前端界面)
数据库：MongoDB (数据库名：myweb)
三、完整目录结构说明
plaintext
E:\zlq\myweb\                      # 项目根目录
│
├── app.py                         # 【主程序入口】Flask应用初始化、路由注册、启动脚本
├── config.py                      # 【配置文件】密钥、数据库连接、上传路径等设置
├── requirements.txt               # 【依赖清单】项目运行所需的Python包列表
├── .env                           # 【环境变量】敏感配置（如密钥、数据库URI）
├── run.bat                        # 【Windows启动脚本】一键启动虚拟环境和应用
│
├── static/                        # 静态资源目录
│   ├── css/
│   │   └── style.css             # 自定义样式表
│   ├── js/
│   │   └── main.js               # 全局JavaScript脚本
│   └── uploads/                   # 用户上传文件（如图片）存储目录
│
├── templates/                     # HTML模板目录
│   ├── base.html                 # 基础模板（包含导航栏、页脚、消息提示区）
│   ├── index.html                # 网站首页
│   ├── login.html                # 用户登录页
│   ├── register.html             # 用户注册页
│   ├── dashboard.html            # 用户控制台/仪表盘
│   ├── profile.html              # 个人资料编辑页
│   ├── users.html                # 用户管理列表页（仅管理员可见）
│   ├── 404.html                  # 404错误页面
│   ├── 500.html                  # 500错误页面
│   │
│   └── partials/                 # 模板片段目录
│       ├── header.html           # 顶部导航栏
│       ├── footer.html           # 页面底部
│       └── messages.html         # Flash消息提示组件
│
├── models/                        # 数据模型层
│   ├── __init__.py               # 包初始化文件
│   └── user.py                   # 【核心模型】User类定义（继承Flask-Login的UserMixin）
│
├── routes/                        # 路由（视图函数）层
│   ├── __init__.py
│   ├── auth.py                   # 【认证路由】登录(login)、注册(register)、注销(logout)
│   ├── user.py                   # 【用户路由】个人资料(profile)、修改密码、用户管理
│   └── main.py                   # 【主路由】首页(index)、控制台(dashboard)、关于(about)
│
├── utils/                         # 工具函数
│   ├── __init__.py
│   ├── validators.py             # 表单验证工具（邮箱、用户名、密码格式校验）
│   └── helpers.py                # 通用辅助函数（时间格式化等）
│
└── venv/                          # Python虚拟环境（依赖隔离，不上传Git）
四、数据库设计 (MongoDB 集合: users)
字段名	类型	说明	示例
_id	ObjectId	用户唯一标识	ObjectId("67f1a2b3c4d5e67890123456")
username	String	用户名（唯一）	"zhangsan"
email	String	邮箱（唯一）	"user@example.com"
password_hash	String	加密后的密码	"$2b$12$..."
avatar	String	头像URL	"/static/uploads/xxx.jpg"
bio	String	个人简介	"热爱编程的开发者"
is_active	Boolean	账户是否激活	true
is_admin	Boolean	是否为管理员	false
created_at	ISODate	创建时间	ISODate("2024-04-10T08:00:00Z")
updated_at	ISODate	最后更新时间	ISODate("2024-04-10T09:30:00Z")
索引建议（已通过脚本创建或可手动创建）：

email: 唯一索引

username: 唯一索引

is_active: 普通索引（用于快速筛选）

created_at: 降序索引（用于按时间排序）

五、核心功能列表
✅ 已实现的功能
用户认证系统

用户注册（含邮箱、用户名、密码格式校验）

用户登录与退出（支持“记住我”功能）

会话管理（Flask-Login）

个人中心

查看和编辑个人资料（用户名、简介）

头像上传（限制格式和大小）

修改密码（需验证原密码）

用户管理系统（管理员）

查看所有用户列表（分页显示）

启用/禁用用户账户（AJAX操作）

前端界面

响应式布局（Bootstrap 5）

统一的导航栏和消息提示

表单验证和错误反馈

⏳ 计划中的功能
邮箱验证（注册时发送验证邮件）

密码重置（通过邮箱找回密码）

角色和权限管理系统（更细粒度控制）

操作日志记录

API接口开发（支持移动端）